<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 01: What is VS Code?</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .content {
            padding: 40px;
        }

        .section {
            margin-bottom: 40px;
            display: none;
        }

        .section.active {
            display: block;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section h2 {
            color: #667eea;
            font-size: 2rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section h3 {
            color: #764ba2;
            font-size: 1.5rem;
            margin: 20px 0 10px 0;
        }

        .section p {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 15px;
            color: #333;
        }

        .example-box {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .code-box {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
        }

        .quiz-question {
            background: #f8f9fa;
            padding: 25px;
            margin: 20px 0;
            border-radius: 10px;
            border: 2px solid #e0e0e0;
        }

        .quiz-question h4 {
            color: #667eea;
            font-size: 1.2rem;
            margin-bottom: 15px;
        }

        .quiz-options {
            list-style: none;
            padding: 0;
        }

        .quiz-options li {
            padding: 15px;
            margin: 10px 0;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
        }

        .quiz-options li input[type="radio"] {
            margin-right: 10px;
            transform: scale(1.3);
            cursor: pointer;
        }

        .quiz-options li:hover {
            background: #f0f0f0;
            border-color: #667eea;
            transform: translateX(5px);
        }

        .quiz-options li.selected {
            background: #e8f4f8;
            border-color: #667eea;
        }

        .quiz-options li.correct {
            background: #d4edda;
            border-color: #28a745;
        }

        .quiz-options li.incorrect {
            background: #f8d7da;
            border-color: #dc3545;
        }

        .btn {
            padding: 15px 40px;
            font-size: 1.1rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            margin: 10px 5px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            width: 0%;
            transition: width 0.5s;
        }

        .score-display {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            font-size: 1.3rem;
            margin: 20px 0;
        }

        .activity-box {
            background: #fff3cd;
            border: 2px solid #ffc107;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .activity-box h4 {
            color: #856404;
            margin-bottom: 10px;
        }

        .checkboxlist {
            list-style: none;
            padding: 0;
        }

        .checkboxlist li {
            padding: 10px;
            margin: 5px 0;
            background: white;
            border-radius: 5px;
        }

        .checkboxlist input[type="checkbox"] {
            margin-right: 10px;
            transform: scale(1.3);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            padding: 40px;
            border-radius: 20px;
            max-width: 500px;
            text-align: center;
            animation: slideDown 0.3s;
        }

        @keyframes slideDown {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .modal-content h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.8rem;
        }

        .modal-content p {
            font-size: 1.1rem;
            margin-bottom: 20px;
        }

        .success-icon {
            font-size: 4rem;
            margin-bottom: 20px;
        }

        .error-icon {
            font-size: 4rem;
            margin-bottom: 20px;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 2px solid #e0e0e0;
        }

        .locked {
            opacity: 0.5;
            pointer-events: none;
        }
    </style>
</head>
<body>

    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>ğŸš€ Lesson 01: What is VS Code?</h1>
            <p>Time: 15-20 minutes | Difficulty: Super Easy â­</p>
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar"></div>
            </div>
        </div>

        <!-- Content Sections -->
        <div class="content">
            
            <!-- A. LEARNING MATERIAL -->
            <div id="materialSection" class="section active">
                <h2>ğŸ“– Part A: Learning Material</h2>
                
                <h3>What You'll Learn Today</h3>
                <p>By the end of this lesson, you'll know:</p>
                <ul>
                    <li>âœ… What Visual Studio Code is and why it's awesome</li>
                    <li>âœ… How to install VS Code on your computer</li>
                    <li>âœ… The main parts of VS Code</li>
                    <li>âœ… How to open VS Code and look around</li>
                </ul>

                <h3>ğŸ“– Story Time: What is VS Code?</h3>
                <div class="example-box">
                    <p><strong>Imagine This:</strong></p>
                    <p>You know Microsoft Word, right? It's where you write essays and reports. Well, <strong>Visual Studio Code (VS Code)</strong> is like Microsoft Word, but for <strong>creating code and building things</strong> on computers!</p>
                </div>

                <h3>Think of It Like This:</h3>
                <div class="code-box">
ğŸ“ Microsoft Word  â†’  For writing essays and letters<br>
ğŸ¨ Photoshop      â†’  For editing photos<br>
ğŸ® Game Console   â†’  For playing games<br>
ğŸ’» VS Code        â†’  For creating programs, websites, and apps!
                </div>

                <h3>ğŸ—ï¸ What Can You Build with VS Code?</h3>
                <p>Here's what people create using VS Code:</p>
                <ul>
                    <li>ğŸŒ Websites (like YouTube, Google)</li>
                    <li>ğŸ“± Phone Apps (like Instagram, TikTok)</li>
                    <li>ğŸ® Video Games (like Minecraft mods)</li>
                    <li>ğŸ¤– Robots & Smart Devices</li>
                    <li>ğŸ“Š Data Analysis & Charts</li>
                    <li>ğŸ¨ Interactive Art Projects</li>
                </ul>

                <h3>Why VS Code is Special:</h3>
                <div class="example-box">
                    <p>âœ¨ It colors your code to make it easy to read</p>
                    <p>ğŸ” It finds mistakes before you even run your code</p>
                    <p>ğŸš€ It has tools that help you write faster</p>
                    <p>ğŸ§© You can add "extensions" (like apps for your phone)</p>
                    <p>ğŸ’¡ It gives you suggestions as you type</p>
                </div>

                <h3>The Main Parts of VS Code:</h3>
                <div class="code-box">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br>
â”‚       Top Menu Bar (File, Edit, View, Help)            â”‚<br>
â”œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤<br>
â”‚      â”‚          â”‚                      â”‚               â”‚<br>
â”‚ Acti â”‚  Side    â”‚   Editor Area        â”‚  Secondary    â”‚<br>
â”‚ vity â”‚  Bar     â”‚   (where you type    â”‚  Side Bar     â”‚<br>
â”‚ Bar  â”‚ (Files,  â”‚    your code)        â”‚  (Copilot,    â”‚<br>
â”‚      â”‚ Search)  â”‚                      â”‚   Chat)       â”‚<br>
â”‚      â”‚          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤               â”‚<br>
â”‚      â”‚          â”‚  Panel (Terminal,    â”‚               â”‚<br>
â”‚      â”‚          â”‚  Output, Problems)   â”‚               â”‚<br>
â”œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤<br>
â”‚         Status Bar (bottom information)                â”‚<br>
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                </div>

                <div class="example-box">
                    <p><strong>Activity Bar (Far Left):</strong> This has icons for different views - click them to switch what the Side Bar shows!</p>
                    <p><strong>Side Bar (Left):</strong> Shows your files, search results, source control, extensions - changes based on Activity Bar icon you click.</p>
                    <p><strong>Editor Area (Center Top):</strong> This is where you write your code - it's the biggest part of VS Code!</p>
                    <p><strong>Panel (Center Bottom):</strong> Contains the Terminal, Output, Problems, and Debug Console - you can toggle it on/off.</p>
                    <p><strong>Secondary Side Bar (Right):</strong> Extra space for tools like GitHub Copilot Chat, or additional panels.</p>
                    <p><strong>Status Bar (Bottom):</strong> Shows information about your file, language, line number, and errors.</p>
                </div>

                <div class="navigation">
                    <button class="btn btn-secondary" onclick="goBack()">â¬…ï¸ Back to Home</button>
                    <button class="btn btn-primary" onclick="showQuiz()">Continue to Quiz â¡ï¸</button>
                </div>
            </div>

            <!-- B. QUIZ SECTION -->
            <div id="quizSection" class="section">
                <h2>ğŸ¯ Part B: Test Your Knowledge</h2>
                <p>Answer these questions to test what you learned! You need to get ALL correct to unlock the activities.</p>

                <!-- Question 1 -->
                <div class="quiz-question">
                    <h4>Question 1: What is VS Code used for?</h4>
                    <ul class="quiz-options" id="q1Options">
                        <li onclick="selectAnswer(1, 'a')"><input type="radio" name="q1" value="a"> A) Playing video games</li>
                        <li onclick="selectAnswer(1, 'b')"><input type="radio" name="q1" value="b"> B) Writing code and building programs</li>
                        <li onclick="selectAnswer(1, 'c')"><input type="radio" name="q1" value="c"> C) Editing videos</li>
                        <li onclick="selectAnswer(1, 'd')"><input type="radio" name="q1" value="d"> D) Social media</li>
                    </ul>
                </div>

                <!-- Question 2 -->
                <div class="quiz-question">
                    <h4>Question 2: Which bar is on the far left side of VS Code?</h4>
                    <ul class="quiz-options" id="q2Options">
                        <li onclick="selectAnswer(2, 'a')"><input type="radio" name="q2" value="a"> A) Status Bar</li>
                        <li onclick="selectAnswer(2, 'b')"><input type="radio" name="q2" value="b"> B) Activity Bar</li>
                        <li onclick="selectAnswer(2, 'c')"><input type="radio" name="q2" value="c"> C) Menu Bar</li>
                        <li onclick="selectAnswer(2, 'd')"><input type="radio" name="q2" value="d"> D) Tool Bar</li>
                    </ul>
                </div>

                <!-- Question 3 -->
                <div class="quiz-question">
                    <h4>Question 3: What can you build with VS Code?</h4>
                    <ul class="quiz-options" id="q3Options">
                        <li onclick="selectAnswer(3, 'a')"><input type="radio" name="q3" value="a"> A) Only websites</li>
                        <li onclick="selectAnswer(3, 'b')"><input type="radio" name="q3" value="b"> B) Only games</li>
                        <li onclick="selectAnswer(3, 'c')"><input type="radio" name="q3" value="c"> C) Websites, apps, games, and more</li>
                        <li onclick="selectAnswer(3, 'd')"><input type="radio" name="q3" value="d"> D) Nothing useful</li>
                    </ul>
                </div>

                <!-- Question 4 -->
                <div class="quiz-question">
                    <h4>Question 4: Where do you write code in VS Code?</h4>
                    <ul class="quiz-options" id="q4Options">
                        <li onclick="selectAnswer(4, 'a')"><input type="radio" name="q4" value="a"> A) Activity Bar</li>
                        <li onclick="selectAnswer(4, 'b')"><input type="radio" name="q4" value="b"> B) Status Bar</li>
                        <li onclick="selectAnswer(4, 'c')"><input type="radio" name="q4" value="c"> C) Editor Area</li>
                        <li onclick="selectAnswer(4, 'd')"><input type="radio" name="q4" value="d"> D) Menu Bar</li>
                    </ul>
                </div>

                <!-- Question 5 -->
                <div class="quiz-question">
                    <h4>Question 5: What makes VS Code special?</h4>
                    <ul class="quiz-options" id="q5Options">
                        <li onclick="selectAnswer(5, 'a')"><input type="radio" name="q5" value="a"> A) It colors code and finds mistakes</li>
                        <li onclick="selectAnswer(5, 'b')"><input type="radio" name="q5" value="b"> B) It plays music</li>
                        <li onclick="selectAnswer(5, 'c')"><input type="radio" name="q5" value="c"> C) It's only for professionals</li>
                        <li onclick="selectAnswer(5, 'd')"><input type="radio" name="q5" value="d"> D) It costs a lot of money</li>
                    </ul>
                </div>

                <div class="score-display" id="scoreDisplay" style="display: none;">
                    Your Score: <span id="scoreText">0/5</span>
                </div>

                <div class="navigation">
                    <button class="btn btn-secondary" onclick="showMaterial()">â¬…ï¸ Back to Material</button>
                    <button class="btn btn-primary" onclick="checkQuiz()" id="checkQuizBtn">Check Answers ğŸ“</button>
                </div>
            </div>

            <!-- D & E. ACTIVITIES SECTION (Unlocked after quiz) -->
            <div id="activitiesSection" class="section locked">
                <h2>ğŸ® Part D: Interactive Activities</h2>
                <p>Great job on the quiz! Now let's practice what you learned!</p>

                <div class="activity-box">
                    <h4>âœ… Activity 1: VS Code Exploration Checklist</h4>
                    <p>Open VS Code on your computer and complete these tasks:</p>
                    <ul class="checkboxlist">
                        <li><input type="checkbox" onchange="checkActivity(this)"> I opened VS Code</li>
                        <li><input type="checkbox" onchange="checkActivity(this)"> I found the Activity Bar on the far left</li>
                        <li><input type="checkbox" onchange="checkActivity(this)"> I found the Side Bar (next to Activity Bar)</li>
                        <li><input type="checkbox" onchange="checkActivity(this)"> I found the Editor Area in the center</li>
                        <li><input type="checkbox" onchange="checkActivity(this)"> I found the Panel at the bottom (Terminal, Output, Problems)</li>
                        <li><input type="checkbox" onchange="checkActivity(this)"> I toggled the Panel on/off (View â†’ Terminal or Ctrl+`)</li>
                        <li><input type="checkbox" onchange="checkActivity(this)"> I found the Secondary Side Bar on the right (if visible)</li>
                        <li><input type="checkbox" onchange="checkActivity(this)"> I found the Status Bar at the very bottom</li>
                        <li><input type="checkbox" onchange="checkActivity(this)"> I clicked on the File menu</li>
                    </ul>
                </div>

                <div class="activity-box">
                    <h4>âœ… Activity 2: Find the Icons & Panels</h4>
                    <p>In VS Code's Activity Bar, find these icons and check them off:</p>
                    <ul class="checkboxlist">
                        <li><input type="checkbox" onchange="checkActivity(this)"> ğŸ“ Explorer icon (shows files in Side Bar)</li>
                        <li><input type="checkbox" onchange="checkActivity(this)"> ğŸ” Search icon (magnifying glass)</li>
                        <li><input type="checkbox" onchange="checkActivity(this)"> ğŸ”€ Source Control icon</li>
                        <li><input type="checkbox" onchange="checkActivity(this)"> ğŸ§© Extensions icon</li>
                        <li><input type="checkbox" onchange="checkActivity(this)"> ğŸ’¬ GitHub Copilot Chat icon (if installed)</li>
                    </ul>
                </div>

                <div class="activity-box">
                    <h4>âœ… Activity 3: Create Your First File</h4>
                    <p>Let's create a file!</p>
                    <ul class="checkboxlist">
                        <li><input type="checkbox" onchange="checkActivity(this)"> I clicked File â†’ New File</li>
                        <li><input type="checkbox" onchange="checkActivity(this)"> I typed "Hello VS Code!"</li>
                        <li><input type="checkbox" onchange="checkActivity(this)"> I saved the file (Ctrl+S or Cmd+S)</li>
                        <li><input type="checkbox" onchange="checkActivity(this)"> I named it "my-first-file.txt"</li>
                    </ul>
                </div>

                <div class="score-display">
                    Activities Completed: <span id="activityCount">0</span>/18
                </div>

                <div class="navigation">
                    <button class="btn btn-secondary" onclick="showQuiz()">â¬…ï¸ Back to Quiz</button>
                    <button class="btn btn-primary" onclick="completeLesson()">Complete Lesson ğŸ‰</button>
                </div>
            </div>

        </div>
    </div>

    <!-- E. FEEDBACK MODALS -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <div id="modalIcon"></div>
            <h3 id="modalTitle"></h3>
            <p id="modalMessage"></p>
            <button class="btn btn-primary" onclick="closeModal()">Continue</button>
        </div>
    </div>

    <script>
        // Track quiz answers
        let answers = {
            1: null,
            2: null,
            3: null,
            4: null,
            5: null
        };

        // Correct answers
        const correctAnswers = {
            1: 'b',
            2: 'b',
            3: 'c',
            4: 'c',
            5: 'a'
        };

        let quizPassed = false;

        // Update progress bar
        function updateProgress(percentage) {
            document.getElementById('progressBar').style.width = percentage + '%';
        }

        // Navigation functions
        function showMaterial() {
            hideAllSections();
            document.getElementById('materialSection').classList.add('active');
            updateProgress(33);
            
            // Scroll to the top of the page
            setTimeout(() => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }, 100);
        }

        function showQuiz() {
            hideAllSections();
            document.getElementById('quizSection').classList.add('active');
            updateProgress(66);
            
            // Scroll to the top of the page to show Question 1
            setTimeout(() => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }, 100);
        }

        function showActivities() {
            if (!quizPassed) {
                showModal('error', 'Quiz Not Passed', 'You need to pass the quiz first! Make sure all answers are correct.');
                return;
            }
            hideAllSections();
            document.getElementById('activitiesSection').classList.remove('locked');
            document.getElementById('activitiesSection').classList.add('active');
            updateProgress(100);
            
            // Scroll to the top of the page to show Activity 1
            setTimeout(() => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }, 100);
        }

        function hideAllSections() {
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
        }

        // Quiz functions
        function selectAnswer(question, answer) {
            // Remove previous selection styling
            document.querySelectorAll(`#q${question}Options li`).forEach(li => {
                li.classList.remove('selected');
            });
            
            // Add selection to clicked answer
            event.target.closest('li').classList.add('selected');
            
            // Check the radio button
            const radio = event.target.closest('li').querySelector('input[type="radio"]');
            if (radio) {
                radio.checked = true;
            }
            
            answers[question] = answer;
        }

        function checkQuiz() {
            // Check if all questions are answered
            if (Object.values(answers).includes(null)) {
                showModal('error', 'Incomplete Quiz', 'Please answer all questions before checking!');
                return;
            }

            let score = 0;
            let allCorrect = true;

            // Check each answer
            for (let q = 1; q <= 5; q++) {
                const options = document.querySelectorAll(`#q${q}Options li`);
                const userAnswer = answers[q];
                const correctAnswer = correctAnswers[q];

                options.forEach((li, index) => {
                    const answerLetter = String.fromCharCode(97 + index); // a, b, c, d
                    li.classList.remove('correct', 'incorrect');
                    
                    if (answerLetter === correctAnswer) {
                        li.classList.add('correct');
                    }
                    
                    if (answerLetter === userAnswer && userAnswer !== correctAnswer) {
                        li.classList.add('incorrect');
                        allCorrect = false;
                    }
                });

                if (userAnswer === correctAnswer) {
                    score++;
                }
            }

            // Display score
            document.getElementById('scoreText').textContent = `${score}/5`;
            document.getElementById('scoreDisplay').style.display = 'block';

            // Check if passed (need all correct)
            if (allCorrect) {
                quizPassed = true;
                showModal('success', 'Perfect Score! ğŸ‰', `Congratulations! You got all ${score} questions correct! The activities are now unlocked.`);
                setTimeout(showActivities, 2000);
            } else {
                showModal('error', 'Not Quite There', `You got ${score}/5 correct. Review the material and try again! You need all correct to unlock activities.`);
            }
        }

        // Activity checking with verification
        let activityGroupsCompleted = {
            group1: false,
            group2: false,
            group3: false
        };

        function checkActivity(checkbox) {
            const totalCheckboxes = document.querySelectorAll('.checkboxlist input[type="checkbox"]').length;
            const checkedBoxes = document.querySelectorAll('.checkboxlist input[type="checkbox"]:checked').length;
            
            document.getElementById('activityCount').textContent = checkedBoxes;

            // Check if all checkboxes in the current activity box are completed
            if (checkbox.checked) {
                const activityBox = checkbox.closest('.activity-box');
                const boxCheckboxes = activityBox.querySelectorAll('input[type="checkbox"]');
                const boxCheckedCount = activityBox.querySelectorAll('input[type="checkbox"]:checked').length;
                
                // Show popup only when all checkboxes in this activity box are completed
                if (boxCheckedCount === boxCheckboxes.length) {
                    // Determine which activity group this is
                    const activityBoxes = document.querySelectorAll('.activity-box');
                    const groupIndex = Array.from(activityBoxes).indexOf(activityBox);
                    const groupKey = `group${groupIndex + 1}`;
                    
                    if (!activityGroupsCompleted[groupKey]) {
                        activityGroupsCompleted[groupKey] = true;
                        showModal('success', 'Activity Group Complete! ğŸ‰', 
                            `Great job! Make sure you actually completed these tasks in VS Code before moving on!`);
                    }
                }
            }
        }

        // Modal functions
        function showModal(type, title, message) {
            const modal = document.getElementById('modal');
            const icon = document.getElementById('modalIcon');
            const titleEl = document.getElementById('modalTitle');
            const messageEl = document.getElementById('modalMessage');

            if (type === 'success') {
                icon.innerHTML = '<div class="success-icon">âœ…</div>';
                icon.style.color = '#28a745';
            } else {
                icon.innerHTML = '<div class="error-icon">âŒ</div>';
                icon.style.color = '#dc3545';
            }

            titleEl.textContent = title;
            messageEl.textContent = message;
            modal.classList.add('active');
        }

        function closeModal() {
            document.getElementById('modal').classList.remove('active');
        }

        function completeLesson() {
            const checkedBoxes = document.querySelectorAll('.checkboxlist input[type="checkbox"]:checked').length;
            
            if (checkedBoxes < 18) {
                showModal('error', 'Activities Incomplete', 'Please complete ALL activities before finishing the lesson!');
                return;
            }

            // Verify all activity groups are completed
            const allGroupsComplete = activityGroupsCompleted.group1 && 
                                     activityGroupsCompleted.group2 && 
                                     activityGroupsCompleted.group3;
            
            if (!allGroupsComplete) {
                showModal('error', 'Not All Activities Verified', 
                    'Please make sure you complete each activity GROUP (all checkboxes in each section) before finishing!');
                return;
            }

            // Final confirmation
            const confirmed = confirm(
                'âš ï¸ IMPORTANT VERIFICATION âš ï¸\n\n' +
                'Did you ACTUALLY complete these activities in VS Code?\n\n' +
                'âœ… Opened VS Code and explored the interface?\n' +
                'âœ… Found all the panels and icons?\n' +
                'âœ… Created your first file?\n\n' +
                'Click OK only if you truly completed these tasks.\n' +
                'Click Cancel to go back and finish them.'
            );

            if (!confirmed) {
                showModal('error', 'Go Complete the Activities', 
                    'Please actually complete the activities in VS Code. Learning by doing is important!');
                return;
            }

            showModal('success', 'Lesson Complete! ğŸ†', 
                'Congratulations! You completed Lesson 01 and verified your work. Ready for Lesson 02?');
            
            // Save progress to localStorage
            localStorage.setItem('lesson01Complete', 'true');
            localStorage.setItem('lesson01Verified', 'true');
            
            setTimeout(() => {
                window.location.href = '../index.html';
            }, 3000);
        }

        function goBack() {
            window.location.href = '../index.html';
        }

        // Initialize
        updateProgress(33);
    </script>

</body>
</html>
